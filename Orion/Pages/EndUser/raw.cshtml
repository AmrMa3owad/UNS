@page
@model rawModel
@{
    Layout = "~/pages/shared/_Layout-Dark.cshtml";
}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Materials</title>
    <!-- box icons  -->
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    <!-- styles  -->
    <link rel="stylesheet" href="~/cssEndUser/main-products.css">
</head>
<body>
    @Html.AntiForgeryToken()

    <!-- SHOP SECTION -->
    <section class="shop-container">
        @* Slow Rendering *@
        <div class="orion-categ">
            <form method="get" id="productTypeForm">
                <input type="hidden" name="SearchQuery" value="@Model.SearchQuery" />
                <button type="submit" name="ProductType" value="Beads" class="categoryyy">
                    <div class="category-img">
                        <img src="img/pexels-miriam-alonso-7585704.jpg" alt="">
                    </div>
                    <p>Beads</p>
                </button>
                <button type="submit" name="ProductType" value="Crochet" class="categoryyy">
                    <div class="category-img">
                        <img src="img/pexels-miriam-alonso-7585238.jpg" alt="">
                    </div>
                    <p>Crochet</p>
                </button>
                <button type="submit" name="ProductType" value="Resin" class="categoryyy">
                    <div class="category-img">
                        <img src="img/pexels-thirdman-7256642.jpg" alt="">
                    </div>
                    <p>Resin</p>
                </button>
                <button type="submit" name="ProductType" value="Punch needle" class="categoryyy">
                    <div class="category-img">
                        <img src="img/needle.jpg" alt="">
                    </div>
                    <p>Punch needle</p>
                </button>
            </form>
        </div>

        <!-- ------------------------categories end search start-------------------------------------- -->
        <div class="container-search">
            @* Slow Rendering *@
            <form method="get">
                <input type="text" placeholder="Search" name="SearchQuery" class="input-search" value="@Model.SearchQuery">
                <input type="hidden" name="ProductType" value="@Model.ProductType" />
                <button type="submit">
                    <svg fill="#000000" width="20px" height="20px" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg">
                        <path d="M790.588 1468.235c-373.722 0-677.647-303.924-677.647-677.647 0-373.722 303.925-677.647 677.647-677.647 373.723 0 677.647 303.925 677.647 677.647 0 373.723-303.924 677.647-677.647 677.647Zm596.781-160.715c120.396-138.692 193.807-319.285 193.807-516.932C1581.176 354.748 1226.428 0 790.588 0S0 354.748 0 790.588s354.748 790.588 790.588 790.588c197.647 0 378.24-73.411 516.932-193.807l516.028 516.142 79.963-79.963-516.142-516.028Z" fill-rule="evenodd"></path>
                    </svg>
                </button>
            </form>
        </div>

        <!-- ----------------------------------search end subcategory start--------------------------------  -->

        <h2 class="section-title">Shop materials</h2>

        <!-- CONTENT  -->
        <div class="shop-content">
            @for (int i = 0; i < Model.Products.Count; i++)
            {
                var name = Model.Products[i].MaterialName;
                var img = Model.Products[i].Image;
                var price = Model.Products[i].MaterialPrice;
                var id = Model.Products[i].Id;
                var imgSrc = img != null ? $"data:image/jpg;base64,{Convert.ToBase64String(img)}" : "img/product1.jpg"; // Fallback image

                <div class="product-box">
                    <a href="/EndUser/details?productId=@id"><img src="@imgSrc" alt="" class="product-img"></a>
                    <h2 class="product-title">@name</h2>
                    <span class="product-price">$@price</span>
                    <span class="product-id">@id</span> 
                    <i class='bx bx-shopping-bag add-cart'></i>
                </div>
            }
        </div>
    </section>

    <!-- link js  -->
    <script src="lib/jquery/dist/jquery.js"></script>
    <script src="Js/mainCartRaw.js"></script>
</body>

</html>